<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AI Health Assistant - Smart Medical Diagnosis</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .navbar {
            background: rgba(255, 255, 255, 0.1) !important;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .navbar-brand {
            font-weight: 700;
            color: white !important;
        }

        .nav-link {
            color: rgba(255, 255, 255, 0.8) !important;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            color: white !important;
            transform: translateY(-2px);
        }

        .main-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            margin: 2rem auto;
            padding: 3rem;
            max-width: 900px;
        }

        .hero-title {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }

        .form-control {
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 1rem 1.5rem;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
            transform: translateY(-2px);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            border-radius: 15px;
            padding: 1rem 2rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .symptom-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .symptom-tag {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .symptom-tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .symptom-tag.selected {
            background: linear-gradient(135deg, #28a745, #20c997);
        }

        .result-card {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            margin: 1rem 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .result-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .modal-content {
            border-radius: 20px;
            border: none;
        }

        .modal-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 20px 20px 0 0;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .feature-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .feature-icon {
            font-size: 3rem;
            color: #667eea;
            margin-bottom: 1rem;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        @media (max-width: 768px) {
            .main-container {
                margin: 1rem;
                padding: 2rem;
            }
            
            .hero-title {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-heartbeat me-2"></i>AI Health Assistant
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/"><i class="fas fa-home me-1"></i>Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/about"><i class="fas fa-info-circle me-1"></i>About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/contact"><i class="fas fa-envelope me-1"></i>Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/developer"><i class="fas fa-code me-1"></i>Developer</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/blog"><i class="fas fa-blog me-1"></i>Blog</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container">
        <div class="main-container">
            <!-- Hero Section -->
            <div class="text-center mb-5">
                <h1 class="hero-title">
                    <i class="fas fa-stethoscope me-3"></i>
                    AI Health Assistant
                </h1>
                <p class="lead text-muted">
                    Get instant medical insights powered by advanced AI. Enter your symptoms and receive comprehensive health recommendations.
                </p>
            </div>

            <!-- Features Grid -->
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h5>AI-Powered Diagnosis</h5>
                    <p>Advanced machine learning algorithms for accurate predictions</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-pills"></i>
                    </div>
                    <h5>Medication Guide</h5>
                    <p>Comprehensive medication recommendations and dosage information</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-apple-alt"></i>
                    </div>
                    <h5>Diet Plans</h5>
                    <p>Personalized diet recommendations for better health</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-dumbbell"></i>
                    </div>
                    <h5>Exercise Routines</h5>
                    <p>Tailored workout plans for your condition</p>
                </div>
            </div>

            <!-- Stats -->
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-number">40+</div>
                    <div class="stat-label">Diseases Covered</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">130+</div>
                    <div class="stat-label">Symptoms Analyzed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">95%</div>
                    <div class="stat-label">Accuracy Rate</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">24/7</div>
                    <div class="stat-label">Available</div>
                </div>
            </div>

            <!-- Symptom Input Form -->
            <form action="/predict" method="post" id="symptomForm">
                <div class="mb-4">
                    <label for="symptoms" class="form-label">
                        <i class="fas fa-notes-medical me-2"></i>
                        Describe Your Symptoms
                    </label>
                    <input type="text" class="form-control" id="symptoms" name="symptoms" 
                           placeholder="Enter symptoms separated by commas (e.g., fever, headache, fatigue)" required>
                </div>

                <!-- Quick Symptom Selection -->
                <div class="mb-4">
                    <label class="form-label">
                        <i class="fas fa-tags me-2"></i>
                        Quick Symptom Selection
                    </label>
                    <div class="symptom-tags" id="symptomTags">
                        <!-- Popular symptoms will be added here -->
                    </div>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="btn btn-primary btn-lg w-100">
                    <i class="fas fa-search me-2"></i>
                    Get AI Diagnosis
                </button>
            </form>

            <!-- Error Messages -->
            {% if message %}
            <div class="alert alert-danger mt-3" role="alert">
                <i class="fas fa-exclamation-triangle me-2"></i>
                {{ message }}
            </div>
            {% endif %}

            <!-- Results Section -->
            {% if predicted_disease %}
            <div class="mt-5">
                <h2 class="text-center mb-4">
                    <i class="fas fa-clipboard-check me-2"></i>
                    AI Diagnosis Results
                </h2>
                
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <div class="result-card" data-bs-toggle="modal" data-bs-target="#diseaseModal">
                            <div class="text-center">
                                <i class="fas fa-disease fa-3x text-primary mb-3"></i>
                                <h5>Predicted Disease</h5>
                                <p class="mb-0">{{ predicted_disease }}</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="result-card" data-bs-toggle="modal" data-bs-target="#descriptionModal">
                            <div class="text-center">
                                <i class="fas fa-info-circle fa-3x text-info mb-3"></i>
                                <h5>Disease Description</h5>
                                <p class="mb-0">Learn more about this condition</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="result-card" data-bs-toggle="modal" data-bs-target="#precautionModal">
                            <div class="text-center">
                                <i class="fas fa-shield-alt fa-3x text-warning mb-3"></i>
                                <h5>Precautions</h5>
                                <p class="mb-0">Safety measures to follow</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="result-card" data-bs-toggle="modal" data-bs-target="#medicationsModal">
                            <div class="text-center">
                                <i class="fas fa-pills fa-3x text-danger mb-3"></i>
                                <h5>Medications</h5>
                                <p class="mb-0">Recommended treatments</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="result-card" data-bs-toggle="modal" data-bs-target="#dietsModal">
                            <div class="text-center">
                                <i class="fas fa-apple-alt fa-3x text-success mb-3"></i>
                                <h5>Diet Plan</h5>
                                <p class="mb-0">Nutritional recommendations</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
        </div>
    </div>

    <!-- Modals -->
    {% if predicted_disease %}
    <!-- Disease Modal -->
    <div class="modal fade" id="diseaseModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-disease me-2"></i>
                        Predicted Disease
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center">
                        <i class="fas fa-disease fa-4x text-primary mb-3"></i>
                        <h3 class="text-primary">{{ predicted_disease }}</h3>
                        <p class="text-muted">AI Diagnosis Result</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Description Modal -->
    <div class="modal fade" id="descriptionModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-info-circle me-2"></i>
                        Disease Description
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center mb-3">
                        <i class="fas fa-book-medical fa-3x text-info"></i>
                    </div>
                    <p class="lead">{{ dis_des if dis_des else "No description available for this disease." }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Precaution Modal -->
    <div class="modal fade" id="precautionModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-shield-alt me-2"></i>
                        Safety Precautions
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center mb-3">
                        <i class="fas fa-shield-alt fa-3x text-warning"></i>
                    </div>
                    {% if dis_pre %}
                    <ul class="list-group list-group-flush">
                        {% for precaution in dis_pre %}
                        <li class="list-group-item">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            {{ precaution }}
                        </li>
                        {% endfor %}
                    </ul>
                    {% else %}
                    <p class="text-muted">No specific precautions available for this disease.</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <!-- Medications Modal -->
    <div class="modal fade" id="medicationsModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-pills me-2"></i>
                        Recommended Medications
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center mb-3">
                        <i class="fas fa-pills fa-3x text-danger"></i>
                    </div>
                    {% if dis_med %}
                    <ul class="list-group list-group-flush">
                        {% for medication in dis_med %}
                        <li class="list-group-item">
                            <i class="fas fa-capsules text-primary me-2"></i>
                            {{ medication }}
                        </li>
                        {% endfor %}
                    </ul>
                    {% else %}
                    <p class="text-muted">No specific medications available for this disease.</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <!-- Diets Modal -->
    <div class="modal fade" id="dietsModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-apple-alt me-2"></i>
                        Dietary Recommendations
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center mb-3">
                        <i class="fas fa-apple-alt fa-3x text-success"></i>
                    </div>
                    {% if dis_die %}
                    <div class="alert alert-success">
                        <i class="fas fa-utensils me-2"></i>
                        {{ dis_die }}
                    </div>
                    {% else %}
                    <p class="text-muted">No specific diet recommendations available for this disease.</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Popular symptoms for quick selection
        const popularSymptoms = [
            'fever', 'headache', 'cough', 'fatigue', 'nausea', 'dizziness', 'joint_pain',
            'stomach_pain', 'back_pain', 'chest_pain', 'breathlessness', 'throat_irritation'
        ];

        const symptomsInput = document.getElementById('symptoms');
        const symptomTags = document.getElementById('symptomTags');

        // Initialize popular symptom tags
        function initializeSymptomTags() {
            popularSymptoms.forEach(symptom => {
                const tag = document.createElement('button');
                tag.type = 'button';
                tag.className = 'symptom-tag';
                tag.innerHTML = `<i class="fas fa-plus"></i>${symptom.replace(/_/g, ' ')}`;
                tag.onclick = () => toggleSymptom(symptom, tag);
                symptomTags.appendChild(tag);
            });
        }

        // Toggle symptom selection
        function toggleSymptom(symptom, tag) {
            const currentSymptoms = symptomsInput.value.split(',').map(s => s.trim()).filter(s => s);
            
            if (tag.classList.contains('selected')) {
                // Remove symptom
                const index = currentSymptoms.indexOf(symptom);
                if (index > -1) {
                    currentSymptoms.splice(index, 1);
                }
                tag.classList.remove('selected');
                tag.innerHTML = `<i class="fas fa-plus"></i>${symptom.replace(/_/g, ' ')}`;
            } else {
                // Add symptom
                if (!currentSymptoms.includes(symptom)) {
                    currentSymptoms.push(symptom);
                }
                tag.classList.add('selected');
                tag.innerHTML = `<i class="fas fa-check"></i>${symptom.replace(/_/g, ' ')}`;
            }
            
            symptomsInput.value = currentSymptoms.join(', ');
        }

        // Initialize
        initializeSymptomTags();
    </script>
</body>
</html>

